<h2>ğŸ“· Barcode-Scanner Modus (Runde: {{ roundCode }})</h2>

<div>
  <button (click)="toggleScanner()">
    {{ scannerActive ? 'ğŸ›‘ Scanner deaktivieren' : 'âœ… Scanner aktivieren' }}
  </button>
  @if (scannerActive) {
    <p>Scanner ist aktiv â€“ bitte Barcode scannen.</p>
  } @else {
    <p>Scanner ist deaktiviert.</p>
  }
</div>

<hr />

<div>
  <h3>Bereits hinzugefÃ¼gte GetrÃ¤nke</h3>

  @if (roundDrinks.length > 0) {
    <ul>
      @for (drink of roundDrinks; track drink.id) {
        <li>
          {{ drink.drink_name }} â€“
          <input
            type="number"
            [value]="drink.quantity_ml"
            (change)="updateQuantity(drink.id, $any($event.target).value)"
            min="0"
          />
          ml

          <button (click)="deleteDrink(drink.id)">ğŸ—‘ï¸</button>

          @if (drink.drink_id) {
            <button (click)="setToFullQuantity(drink.id)">ğŸ’¯</button>
          }
        </li>
      }
    </ul>
  } @else {
    <p>Keine GetrÃ¤nke hinzugefÃ¼gt.</p>
  }
</div>

@if (hasZeroQuantity()) {
  <p>âš ï¸ Nicht alle Mengen wurden definiert. Bitte vor dem Start nachtragen.</p>
}

<hr />

<div>
  <button
    (click)="backToOverview()"
    [disabled]="hasZeroQuantity()"
  >
    ZurÃ¼ck zur Ãœbersicht
  </button>

  <button
    (click)="startGame()"
    [disabled]="hasZeroQuantity()"
  >
    Spiel starten
  </button>
</div>
